<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate and compare two ROC curves of TMB performance in immunotherapy responder
classification — compareROC • TMBleR</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate and compare two ROC curves of TMB performance in immunotherapy responder
classification — compareROC" />
<meta property="og:description" content="This function takes in input two sets of TMB values for the same samples and
a binary variable representing the clinical response to immunotherapy. It
generates two ROC curves showing performance of the two TMB datasets to
discriminate between responders and nonresponders, as well as the best TMB
cutoff." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TMBleR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Get Started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction_to_TMBleR.html">An introduction to TMBleR</a>
    </li>
    <li>
      <a href="../articles/HOWTO_Import_external_data.html">HOWTO_Import_external_data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://hub.docker.com/repository/docker/aguida/tmbler">
    <span class="fab fa-docker fa-lg"></span>
     
    docker hub
  </a>
</li>
<li>
  <a href="https://github.com/acc-bioinfo/TMBleR">
    <span class="fa fa fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://bioserver.ieo.it/shiny/app/tmbler">
    <span class="fas fa-external-link-alt"></span>
     
    shiny app
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate and compare two ROC curves of TMB performance in immunotherapy responder
classification</h1>
    
    <div class="hidden name"><code>compareROC.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function takes in input two sets of TMB values for the same samples and
a binary variable representing the clinical response to immunotherapy. It
generates two ROC curves showing performance of the two TMB datasets to
discriminate between responders and nonresponders, as well as the best TMB
cutoff.</p>
    </div>

    <pre class="usage"><span class='fu'>compareROC</span><span class='op'>(</span><span class='va'>dataset</span>, <span class='va'>TMB1</span>, <span class='va'>TMB2</span>, <span class='va'>method</span>, <span class='va'>paired</span>, <span class='va'>boot.n</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dataset</th>
      <td><p>a <code>data.frame</code> containing numeric vectors of TMB values 
and a factor with name 'ClinicalResponse'  and levels 'responder' and 
'nonresponder'</p></td>
    </tr>
    <tr>
      <th>TMB1</th>
      <td><p><code>character string</code> indicating the <code>data.frame</code> column
containing TMB values from the first approach</p></td>
    </tr>
    <tr>
      <th>TMB2</th>
      <td><p><code>character string</code> indicating the <code>data.frame</code> column
containing TMB values from the second approach</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p><code>character string</code> indicating the method to use: delong,
bootstrap or venkatraman. See <code><a href='https://rdrr.io/pkg/pROC/man/roc.test.html'>roc.test</a></code> for more details.</p></td>
    </tr>
    <tr>
      <th>paired</th>
      <td><p>a logical indicating whether you want a paired roc.test. If
NULL, the paired status will be auto-detected by are.paired. If TRUE but the
paired status cannot be assessed by are.paired will produce an error.
See <code><a href='https://rdrr.io/pkg/pROC/man/roc.test.html'>roc.test</a></code> for more details.</p></td>
    </tr>
    <tr>
      <th>boot.n</th>
      <td><p>for method="bootstrap" and method="venkatraman" only: the
number of bootstrap replicates or permutations. Default: 2000.
See <code><a href='https://rdrr.io/pkg/pROC/man/roc.test.html'>roc.test</a></code> for more details.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns in standard output the result of the test used to compare the
two ROC curves and a pdf file containg plots of the ROC curves and their
respective AUC, sensitivity and specificity values and the best
threshold for sample classification.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/pROC/man/roc.test.html'>roc.test</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Laura Fancello</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Compare the ROC curves representing the performance of panel-based and</span>
<span class='co'>## WES-based TMB to predict clinical response with the default delong method.</span>

<span class='co'># Set the seed to create reproducible train and test sets in generateROC</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>949</span><span class='op'>)</span>


<span class='co'># Read TMB values and response to immunotherapy</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>Hellman_SimulatedFM1Panel_WES</span><span class='op'>)</span>

<span class='co'># Compare ROCs</span>
<span class='fu'>compareROC</span><span class='op'>(</span>dataset <span class='op'>=</span> <span class='va'>Hellman_SimulatedFM1Panel_WES</span>,
           TMB1 <span class='op'>=</span> <span class='st'>"Panel.NumMuts"</span>,
           TMB2 <span class='op'>=</span> <span class='st'>"WES.NumMuts"</span>,
           method <span class='op'>=</span> <span class='st'>"d"</span>,
           paired <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Setting levels: control = nonresponder, case = responder</span></div><div class='output co'>#&gt; <span class='message'>Setting direction: controls &lt; cases</span></div><div class='output co'>#&gt; <span class='message'>Setting levels: control = nonresponder, case = responder</span></div><div class='output co'>#&gt; <span class='message'>Setting direction: controls &lt; cases</span></div><div class='output co'>#&gt; 
#&gt; 	DeLong's test for two correlated ROC curves
#&gt; 
#&gt; data:  TMB1 and TMB2 by as.factor(dataset$ClinicalResponse) (nonresponder, responder)
#&gt; Z = 1.05, p-value = 0.2937
#&gt; alternative hypothesis: true difference in AUC is not equal to 0
#&gt; sample estimates:
#&gt; AUC of roc1 AUC of roc2 
#&gt;   0.7368659   0.6644022 
#&gt; </div><div class='output co'>#&gt; <span class='message'>Setting direction: controls &lt; cases</span></div><div class='output co'>#&gt; <span class='message'>Setting direction: controls &lt; cases</span></div><div class='img'><img src='compareROC-1.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alessandro Guida, Laura Fancello, Luca Mazzarella.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


